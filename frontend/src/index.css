@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --brand-600: #4f46e5; /* indigo-600 */
    --brand-500: #6366f1; /* indigo-500 */
    --brand-400: #818cf8; /* indigo-400 */

    --text-color: #1f2937; /* gray-800 */
    --secondary-bg: rgba(255, 255, 255, 0.8);
    --input-bg: rgba(255, 255, 255, 0.8);

    --chip-bg: #e0e7ff; /* indigo-100 */
    --chip-text: #4338ca; /* indigo-700 */
    --muted: #6b7280; /* gray-500 */
    --badge-bg: #ef4444; /* red-500 */
    --ring-soft: rgba(99, 102, 241, 0.2); /* indigo-500/20 */

    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.4);
    --shadow-color: rgba(79, 70, 229, 0.18);

    --bg-grad-from: #eef2ff; /* indigo-50 */
    --bg-grad-via: #eff6ff; /* blue-50 */
    --bg-grad-to: #fef2f2;  /* red-50 */
  }

  :root[data-theme='warm'] {
    --brand-600: #f43f5e; /* rose-600 */
    --brand-500: #fb7185; /* rose-400 */
    --brand-400: #fca5a5; /* red-300 */

    --text-color: #1f2937;
    --secondary-bg: rgba(255, 255, 255, 0.85);
    --input-bg: rgba(255, 255, 255, 0.85);

    --chip-bg: #fef3c7;  /* amber-100 */
    --chip-text: #b45309; /* amber-700 */
    --muted: #9ca3af; /* gray-400 */
    --badge-bg: #f97316; /* orange-500 */
    --ring-soft: rgba(251, 113, 133, 0.18);

    --glass-bg: rgba(255, 255, 255, 0.72);
    --glass-border: rgba(255, 255, 255, 0.4);
    --shadow-color: rgba(251, 146, 60, 0.16);

    --bg-grad-from: #fff1f2; /* rose-50 */
    --bg-grad-via: #fff7ed; /* orange-50 */
    --bg-grad-to: #fffbeb;  /* amber-50 */
  }

  :root[data-theme='mono'] {
    --brand-600: #111827; /* gray-900 */
    --brand-500: #374151; /* gray-700 */
    --brand-400: #6b7280; /* gray-500 */

    --text-color: #111827;
    --secondary-bg: rgba(255, 255, 255, 0.9);
    --input-bg: rgba(255, 255, 255, 0.95);

    --chip-bg: #e5e7eb;  /* gray-200 */
    --chip-text: #111827; /* gray-900 */
    --muted: #6b7280; /* gray-500 */
    --badge-bg: #111827;  /* gray-900 */
    --ring-soft: rgba(156, 163, 175, 0.2);

    --glass-bg: rgba(255, 255, 255, 0.8);
    --glass-border: rgba(17, 24, 39, 0.06);
    --shadow-color: rgba(17, 24, 39, 0.08);

    --bg-grad-from: #f9fafb; /* gray-50 */
    --bg-grad-via: #f3f4f6; /* gray-100 */
    --bg-grad-to: #e5e7eb;  /* gray-200 */
  }

  :root[data-theme='ocean'] {
    --brand-600: #0ea5e9; /* sky-500 */
    --brand-500: #22d3ee; /* cyan-400 */
    --brand-400: #7dd3fc; /* sky-300 */

    --text-color: #0f172a; /* slate-900 */
    --secondary-bg: rgba(255, 255, 255, 0.85);
    --input-bg: rgba(255, 255, 255, 0.9);

    --chip-bg: #cffafe;  /* cyan-100 */
    --chip-text: #155e75; /* cyan-800 */
    --muted: #64748b; /* slate-500 */
    --badge-bg: #0ea5e9;  /* sky-500 */
    --ring-soft: rgba(14, 165, 233, 0.18);

    --glass-bg: rgba(255, 255, 255, 0.72);
    --glass-border: rgba(255, 255, 255, 0.42);
    --shadow-color: rgba(14, 165, 233, 0.16);

    --bg-grad-from: #f0f9ff; /* sky-50 */
    --bg-grad-via: #ecfeff; /* cyan-50 */
    --bg-grad-to: #f5f3ff;  /* violet-50 */
  }

  /* Vibrant (яркая) */
  :root[data-theme='vibrant'] {
    --brand-600: #f97316; /* orange-500 */
    --brand-500: #ec4899; /* pink-500 */
    --brand-400: #fb923c; /* orange-400 */

    --text-color: #0f172a; /* slate-900 */
    --secondary-bg: rgba(255, 255, 255, 0.9);
    --input-bg: rgba(255, 255, 255, 0.95);

    --chip-bg: #ffe4e6;  /* rose-100 */
    --chip-text: #9f1239; /* rose-800 */
    --muted: #475569; /* slate-600 */
    --badge-bg: #ec4899;  /* pink-500 */
    --ring-soft: rgba(249, 115, 22, 0.18); /* orange-500/18 */

    --glass-bg: rgba(255, 255, 255, 0.78);
    --glass-border: rgba(255, 255, 255, 0.42);
    --shadow-color: rgba(236, 72, 153, 0.16);

    --bg-grad-from: #fff7ed; /* orange-50 */
    --bg-grad-via: #fff1f2; /* rose-50 */
    --bg-grad-to: #f0f9ff;  /* sky-50 */

    --swirl-from: rgba(249, 115, 22, 0.35); /* orange-500/35 */
    --swirl-to: rgba(236, 72, 153, 0.35);   /* pink-500/35 */
  }

  /* Playful (Coolors) https://coolors.co/palette/ef476f-ffd166-06d6a0-118ab2-073b4c */
  :root[data-theme='playful'] {
    --brand-600: #ef476f; /* pink-red */
    --brand-500: #118ab2; /* blue */
    --brand-400: #06d6a0; /* teal-green */

    --text-color: #073b4c; /* deep teal */
    --secondary-bg: rgba(255, 255, 255, 0.9);
    --input-bg: rgba(255, 255, 255, 0.92);

    --chip-bg: #ffe8a3;  /* soft yellow from #ffd166 */
    --chip-text: #7a4a00; /* warm brown */
    --muted: #4b5563; /* gray-600 */
    --badge-bg: #ef476f; /* pink-red */
    --ring-soft: rgba(17, 138, 178, 0.18); /* blue */

    --glass-bg: rgba(255, 255, 255, 0.75);
    --glass-border: rgba(255, 255, 255, 0.42);
    --shadow-color: rgba(17, 138, 178, 0.16);

    --bg-grad-from: #fff0f2; /* very light pink */
    --bg-grad-via: #fff7e0; /* very light yellow */
    --bg-grad-to: #e8fdf4;  /* very light mint */

    --swirl-from: rgba(255, 209, 102, 0.35); /* #FFD166 */
    --swirl-to: rgba(6, 214, 160, 0.35);   /* #06D6A0 */
  }

  html, body, #root {
    height: 100%;
  }
  body {
    color: var(--text-color);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: radial-gradient(1200px 600px at 10% -10%, rgba(255,255,255,0.65), transparent 60%),
                linear-gradient(135deg, var(--bg-grad-from), var(--bg-grad-via), var(--bg-grad-to));
    background-attachment: fixed;
  }
}

@layer utilities {
  .bg-dot-grid {
    background-image: radial-gradient(rgba(2, 6, 23, 0.08) 1px, transparent 1px);
    background-size: 18px 18px;
    background-position: -9px -9px;
  }
}

@layer components {
  .text-soft { color: var(--muted); }

  .glass {
    @apply rounded-2xl backdrop-blur-xl;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    box-shadow: 0 10px 25px var(--shadow-color);
  }

  .nav-item {
    @apply flex items-center justify-between rounded-xl p-2 text-sm font-semibold leading-6;
    color: var(--text-color);
    background: transparent;
  }
  .nav-item:hover {
    background: var(--secondary-bg);
    filter: brightness(1.02);
  }
  .nav-item-active {
    @apply flex items-center justify-between rounded-xl p-2 text-sm font-semibold leading-6;
    color: #fff;
    background: var(--brand-600);
    box-shadow: 0 10px 20px var(--shadow-color);
  }
  .nav-icon { color: var(--muted); }
  .nav-item:hover .nav-icon { color: var(--text-color); }
  .nav-item-active .nav-icon { color: #fff; }

  .card {
    @apply glass p-6;
  }

  .btn-primary {
    @apply relative overflow-hidden inline-flex select-none items-center justify-center gap-2 rounded-xl px-4 py-2.5 text-white font-semibold transition active:scale-[0.99];
    background: var(--brand-600);
    box-shadow: 0 10px 20px var(--shadow-color);
  }
  .btn-primary:hover { background: var(--brand-500); }
  .btn-primary::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.4), transparent 40%);
    transform: scale(0);
    opacity: 0;
    transition: transform .35s ease, opacity .55s ease;
  }
  .btn-primary:active::after { transform: scale(2); opacity: .35; }

  .btn-secondary {
    @apply relative overflow-hidden inline-flex select-none items-center justify-center gap-2 rounded-xl px-4 py-2.5 transition active:scale-[0.99];
    background: var(--secondary-bg);
    color: var(--text-color);
    box-shadow: 0 6px 14px rgba(15, 23, 42, 0.06);
  }
  .btn-secondary:hover { filter: brightness(1.02); }
  .btn-secondary::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 50%, rgba(0,0,0,0.06), transparent 40%);
    transform: scale(0);
    opacity: 0;
    transition: transform .35s ease, opacity .55s ease;
  }
  .btn-secondary:active::after { transform: scale(2); opacity: .35; }

  .chip {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold;
    background: var(--chip-bg);
    color: var(--chip-text);
  }

  .input {
    @apply w-full rounded-xl border px-3 py-2 text-gray-900 placeholder-gray-400 outline-none transition;
    background: var(--input-bg);
    border-color: rgba(17, 24, 39, 0.12);
    box-shadow: 0 0 0 0 var(--ring-soft);
  }
  .input:focus {
    border-color: var(--brand-400);
    box-shadow: 0 0 0 6px var(--ring-soft);
  }
  .badge { @apply inline-flex items-center justify-center rounded-full text-white text-xs font-bold leading-none shadow; background: var(--badge-bg); }

  .icon-link { color: var(--muted); }
  .icon-link:hover { color: var(--text-color); }

  .brand-bg { background: var(--brand-600); color: #fff; }
  .brand-text { color: var(--brand-600); }
  .brand-gradient { background: linear-gradient(90deg, var(--brand-600), var(--brand-500)); }

  .brand-soft { background: var(--ring-soft); color: var(--brand-600); }

  /* Inputs/Selects */
  .select {
    appearance: none;
    background: var(--secondary-bg);
    color: var(--text-color);
    border: 1px solid rgba(17, 24, 39, 0.12);
    border-radius: 0.75rem;
    padding: 0.5rem 2rem 0.5rem 0.75rem;
    box-shadow: 0 6px 14px rgba(15, 23, 42, 0.06);
  }
  .select:focus {
    outline: none;
    border-color: var(--brand-400);
    box-shadow: 0 0 0 6px var(--ring-soft);
  }

  /* Status dots */
  .status-dot { background: var(--brand-400); }
  .status-dot-muted { background: var(--muted); }

  /* Lesson blocks */
  .block-theory {
    border-left: 4px solid var(--brand-600);
    background: linear-gradient(0deg, var(--ring-soft), var(--ring-soft)), #ffffff;
  }
  .block-practice {
    border-left: 4px solid var(--brand-400);
    background: linear-gradient(0deg, rgba(0,0,0,0.02), rgba(0,0,0,0.02)), var(--chip-bg);
  }
  .block-alert {
    border-left: 4px solid var(--badge-bg);
    background: linear-gradient(0deg, rgba(0,0,0,0.02), rgba(0,0,0,0.02)), #fff7f7;
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0) translateX(0); }
  50% { transform: translateY(-8px) translateX(4px); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}
