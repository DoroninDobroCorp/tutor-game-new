# Tutor Game

"Tutor Game" — это инновационная образовательная платформа, разработанная для создания увлекательных и интерактивных учебных приключений. Учителя могут проектировать персонализированные учебные планы (роадмапы), состоящие из уроков, теоретических материалов, практических заданий и сюжетных глав. Платформа активно использует искусственный интеллект для генерации уникального контента, включая тексты историй и иллюстрации, чтобы сделать процесс обучения максимально вовлекающим для студентов.

## Технологический стек

### Backend
- **Язык:** TypeScript
- **Платформа:** Node.js
- **Фреймворк:** Express.js
- **База данных:** PostgreSQL
- **ORM:** Prisma
- **Аутентификация:** JWT (JSON Web Tokens)
- **Веб-сокеты:** `ws` для real-time коммуникации
- **Интеграции с AI:**
  - Google Gemini API (для генерации текста)
  - Leonardo AI (для генерации изображений)

### Frontend
- **Язык:** TypeScript
- **Библиотека:** React
- **Управление состоянием:** Redux Toolkit
- **Стилизация:** Tailwind CSS
- **Сборщик:** Vite
- **Маршрутизация:** React Router

## Предварительные требования

Перед началом работы убедитесь, что на вашем компьютере установлены:
- [Node.js](https://nodejs.org/) (рекомендуется версия v18.x или выше)
- [npm](https://www.npmjs.com/) (обычно поставляется с Node.js)
- [PostgreSQL](https://www.postgresql.org/download/)

## Установка и запуск

Следуйте этим шагам, чтобы настроить и запустить проект локально.

### 1. Клонирование репозитория
```bash
git clone <URL_РЕПОЗИТОРИЯ>
cd tutor-game-new
```

### 2. Настройка базы данных
- Убедитесь, что ваш сервер PostgreSQL запущен.
- Создайте новую базу данных для проекта. Например, `tutor_game`.

### 3. Настройка переменных окружения
- Перейдите в директорию бэкенда: `cd backend`.
- Создайте файл `.env` путем копирования из файла-примера:
  ```bash
  cp .env.example .env
  ```
- Откройте файл `backend/.env` и заполните необходимые переменные:
  - `DATABASE_URL`: Укажите вашу строку подключения к PostgreSQL.
    *Пример: `postgresql://USER:PASSWORD@localhost:5432/tutor_game?schema=public`*
  - `JWT_SECRET`: Укажите секретный ключ для генерации JWT-токенов.
  - `GEMINI_API_KEY`: Ваш API-ключ от Google Gemini.
  - `LEONARDO_API_KEY`: Ваш API-ключ от Leonardo AI.

### 4. Установка зависимостей
Вернитесь в корневую директорию проекта (`cd ..`) и выполните команду для установки всех зависимостей (для корневого проекта, фронтенда и бэкенда):
```bash
npm run install:all
```

### 5. Применение миграций базы данных
Эта команда создаст все необходимые таблицы в вашей базе данных на основе схемы Prisma.
```bash
# Выполняется из корневой директории проекта
npm run backend:prisma:migrate
```
*Примечание: скрипт `backend:prisma:migrate` добавлен в корневой `package.json` для удобства и является алиасом для `cd backend && npm run prisma:migrate`.*

### 6. Запуск проекта
Для запуска frontend и backend серверов в режиме разработки выполните одну команду из **корневой директории** проекта:
```bash
npm run dev
```
Эта команда использует `concurrently` для одновременного запуска следующих скриптов:
- `npm run backend:dev` (запускает backend сервер на `http://localhost:3002`)
- `npm run frontend:dev` (запускает frontend приложение на `http://localhost:5173`)

После успешного запуска откройте `http://localhost:5173` в вашем браузере.